(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,10160,e=>{"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e.s(["default",()=>t])},3053,e=>{"use strict";let t,n;e.s(["listDocuments",()=>E,"loadDocument",()=>S,"loadSettings",()=>A,"saveDocument",()=>B,"saveSettings",()=>j],3053);let r=(e,t)=>t.some(t=>e instanceof t),o=new WeakMap,s=new WeakMap,a=new WeakMap,i={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return o.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return c(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function c(e){if(e instanceof IDBRequest){let t=new Promise((t,n)=>{let r=()=>{e.removeEventListener("success",o),e.removeEventListener("error",s)},o=()=>{t(c(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",o),e.addEventListener("error",s)});return a.set(t,e),t}if(s.has(e))return s.get(e);let l=function(e){if("function"==typeof e)return(n||(n=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(u(this),n),c(this.request)}:function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return c(e.apply(u(this),n))};return(e instanceof IDBTransaction&&function(e){if(o.has(e))return;let t=new Promise((t,n)=>{let r=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",s),e.removeEventListener("abort",s)},o=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",o),e.addEventListener("error",s),e.addEventListener("abort",s)});o.set(e,t)}(e),r(e,t||(t=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])))?new Proxy(e,i):e}(e);return l!==e&&(s.set(e,l),a.set(l,e)),l}let u=e=>a.get(e),l=["get","getKey","getAll","getAllKeys","count"],d=["put","add","delete","clear"],f=new Map;function y(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&"string"==typeof t))return;if(f.get(t))return f.get(t);let n=t.replace(/FromIndex$/,""),r=t!==n,o=d.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||l.includes(n)))return;let s=async function(e){for(var t=arguments.length,s=Array(t>1?t-1:0),a=1;a<t;a++)s[a-1]=arguments[a];let i=this.transaction(e,o?"readwrite":"readonly"),c=i.store;return r&&(c=c.index(s.shift())),(await Promise.all([c[n](...s),o&&i.done]))[0]};return f.set(t,s),s}i=(e=>({...e,get:(t,n,r)=>y(t,n)||e.get(t,n,r),has:(t,n)=>!!y(t,n)||e.has(t,n)}))(i);let p=["continue","continuePrimaryKey","advance"],m={},g=new WeakMap,v=new WeakMap,h={get(e,t){if(!p.includes(t))return e[t];let n=m[t];return n||(n=m[t]=function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];g.set(this,v.get(this)[t](...n))}),n}};async function*w(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let r=this;if(r instanceof IDBCursor||(r=await r.openCursor(...t)),!r)return;let o=new Proxy(r,h);for(v.set(o,r),a.set(o,u(r));r;)yield o,r=await (g.get(o)||r.continue()),g.delete(o)}function b(e,t){return t===Symbol.asyncIterator&&r(e,[IDBIndex,IDBObjectStore,IDBCursor])||"iterate"===t&&r(e,[IDBIndex,IDBObjectStore])}i=(e=>({...e,get:(t,n,r)=>b(t,n)?w:e.get(t,n,r),has:(t,n)=>b(t,n)||e.has(t,n)}))(i);let D=null;async function I(){return D||(D=await function(e,t){let{blocked:n,upgrade:r,blocking:o,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=indexedDB.open(e,t),i=c(a);return r&&a.addEventListener("upgradeneeded",e=>{r(c(a.result),e.oldVersion,e.newVersion,c(a.transaction),e)}),n&&a.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),i.then(e=>{s&&e.addEventListener("close",()=>s()),o&&e.addEventListener("versionchange",e=>o(e.oldVersion,e.newVersion,e))}).catch(()=>{}),i}("markdown-editor",1,{upgrade(e){e.objectStoreNames.contains("documents")||e.createObjectStore("documents",{keyPath:"id"}),e.objectStoreNames.contains("settings")||e.createObjectStore("settings")}}))}async function B(e,t,n){let r=await I(),o=new Date;await r.put("documents",{id:e,title:t,content:n,createdAt:o,updatedAt:o})}async function S(e){let t=await I();return await t.get("documents",e)||null}async function E(){let e=await I();return await e.getAll("documents")}async function j(e){let t=await I();await t.put("settings",e,"user-settings")}async function A(){let e=await I();return await e.get("settings","user-settings")||null}},48503,e=>{e.v(e=>Promise.resolve().then(()=>e(15833)))},70653,e=>{e.v(t=>Promise.all(["static/chunks/5cb42668092e0ff4.js"].map(t=>e.l(t))).then(()=>t(24154)))},95111,e=>{e.v(t=>Promise.all(["static/chunks/4812569878ac3c82.js"].map(t=>e.l(t))).then(()=>t(38201)))},44025,e=>{e.v(e=>Promise.resolve().then(()=>e(3053)))}]);